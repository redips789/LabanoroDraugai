<!DOCTYPE html>
<html lang="en"
        xmlns="http://www.w3.org/1999/xhtml"
        xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core">
    
    <h:head>
        <f:facet name="first">
            <meta content='text/html; charset=UTF-8' http-equiv="Content-Type"/>
            <title>Labanoro draugai</title>
        </f:facet>
        <link href="resources/css/stylesheet.css" rel="stylesheet" type="text/css" />
    </h:head>
    
    <h:body>
        <h:form id="form">     
            <div id="page">
                <div id="header-container">
                    <ui:include src="header.xhtml" />         
                </div>

                <div id="menu-container">
                    <ui:include src="menu.xhtml" />
                </div>
  
                <div id="content-container">
                    <h:form>                       
                        <h:panelGrid columns="8" style="margin-bottom:10px" cellpadding="10">
                            <p:commandButton value="Atšaukti" icon="ui-icon-cancel" action="#{summerhouseBean.recoverSummerhouses()}" update=":form:sh:list"/>
                            <p:inputText value="#{summerhouseBean.priceFrom}" placeholder="Kaina nuo"  style="width: 100px"/>
                            <p:inputText value="#{summerhouseBean.priceTo}" placeholder="Kaina iki" style="width: 100px"/>
                            <p:inputText value="#{summerhouseBean.bedsFrom}" placeholder="Vietų nuo" type="number" style="width: 100px"/>
                            <p:inputText value="#{summerhouseBean.bedsTo}" placeholder="Vietų iki" type="number" style="width: 100px"/>                        
                            <p:calendar value="#{summerhouseBean.availableFrom}" placeholder="Laisvas nuo" size="10"/>
                            <p:calendar value="#{summerhouseBean.availableTo}" placeholder="Laisvas iki" size="10"/>
                            <p:commandButton value="Filtruoti" icon="ui-icon-search" action="#{summerhouseBean.filterSummerhouses()}" update=":form:sh:list" />
                        </h:panelGrid>
                    </h:form>
                    
                    <h:form id="sh">
                        <p:dataScroller id="list" value="#{summerhouseBean.summerhouses}" var="summerhouse" chunkSize="5">
                            <f:facet name="header">
                                Eikite žemyn, kad pamatytumėte daugiau vasarnamių
                            </f:facet>

                            <h:panelGrid columns="2" style="width:100%" columnClasses="logo,detail">
                                <p:graphicImage value="../img/lab.jpg" />

                                <p:outputPanel>
                                    <h:panelGrid columns="2" cellpadding="5">
                                        <h:outputText value="Pavadinimas:" />
                                        <h:outputText value="#{summerhouse.title}" style="font-weight: bold"/>

                                        <h:outputText value="Miegamų vietų skaičius:" />
                                        <h:outputText value="#{summerhouse.beds}" style="font-weight: bold"/>
                                        
                                        <h:outputText value="Kaina (tšk):" />
                                        <h:outputText value="#{summerhouse.cost}" style="font-weight: bold"/>
                                        
                                        <p:button outcome="summerhouseMoreDetails" value="Plačiau" icon="ui-icon-star">
                                            <f:param name="title" value="#{summerhouse.title}" />
                                        </p:button>
                                        
                                    </h:panelGrid>
                                </p:outputPanel>
                            </h:panelGrid>
                        </p:dataScroller>
                    </h:form>     
                </div>

                <div id="footer-container" >
                    <ui:include src="footer.xhtml" />
                </div>
            </div>    
        </h:form> 
        <p id="demo">a</p>
    </h:body>
    
    <script type="text/javascript">
//        var summerhouses = '<h:outputText value="{summerhouseBean.summerhouses}" />';
        demoP = document.getElementById("demo");
        function filterSummerhouses(summerhouses) {
            demoP.innerHTML = demoP.innerHTML + summerhouses;
        }
        
        
    </script>
    
</html>